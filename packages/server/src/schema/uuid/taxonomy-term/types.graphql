enum TaxonomyTermType {
  root
  subject
  topic
  exerciseFolder
}

type TaxonomyTerm implements AbstractUuid & InstanceAware & ThreadAware {
  id: Int!
  trashed: Boolean!
  threads(
    after: String
    first: Int
    archived: Boolean
    trashed: Boolean
  ): ThreadConnection!
  type: TaxonomyTermType!
  instance: Instance!
  alias: String!
  title: String!
  name: String!
  description: String
  weight: Int!
  parent: TaxonomyTerm
  path: [TaxonomyTerm]!
  taxonomyId: Int!
  children(after: String, first: Int): AbstractUuidConnection!
}

extend type Mutation {
  taxonomyTerm: TaxonomyTermMutation!
}

type TaxonomyTermMutation {
  create(input: TaxonomyTermCreateInput!): TaxonomyTermCreateResponse!
  createEntityLinks(input: TaxonomyEntityLinksInput!): DefaultResponse!
  deleteEntityLinks(input: TaxonomyEntityLinksInput!): DefaultResponse!
  sort(input: TaxonomyTermSortInput!): DefaultResponse!
  setNameAndDescription(
    input: TaxonomyTermSetNameAndDescriptionInput!
  ): DefaultResponse!
}

enum TaxonomyTypeCreateOptions {
  topic
  exerciseFolder
}

input TaxonomyTermCreateInput {
  parentId: Int!
  taxonomyType: TaxonomyTypeCreateOptions!
  name: String!
  description: String
}

input TaxonomyEntityLinksInput {
  entityIds: [Int!]!
  taxonomyTermId: Int!
}

input TaxonomyTermSortInput {
  childrenIds: [Int!]!
  taxonomyTermId: Int!
}

input TaxonomyTermSetNameAndDescriptionInput {
  id: Int!
  name: String!
  description: String
}

type TaxonomyTermCreateResponse {
  success: Boolean!
  record: TaxonomyTerm
  query: Query!
}
